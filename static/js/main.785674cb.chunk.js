(this.webpackJsonptypescript=this.webpackJsonptypescript||[]).push([[0],{28:function(t,e,n){t.exports=n(57)},33:function(t,e,n){},57:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(10),r=n.n(i),s=(n(33),n(2)),c=n(11),l=n(4),d=n(3),u=n(5),p=(n(7),n(1)),f=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={editMode:!1,title:n.props.task.title},n.onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;n.props.changeStatus(n.props.task.id,e)},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.activateEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){n.props.changeTitle(n.props.task.id,n.state.title),n.setState({editMode:!1})},n.onDeleteTask=function(){n.props.deleteTask(n.props.task.id)},n.render=function(){var t=n.props.task.completed?"todoList-task done":"todoList-task",e="";switch(n.props.task.priority){case 0:e="Low";break;case 1:e="Middle";break;case 2:e="High";break;case 3:e="Urgently";break;case 4:e="Later"}return o.a.createElement("div",{className:t},o.a.createElement("input",{type:"checkbox",checked:2===n.props.task.status,onChange:n.onIsDoneChanged}),n.state.editMode?o.a.createElement("input",{onBlur:n.deactivateEditMode,onChange:n.onTitleChanged,autoFocus:!0,value:n.state.title}):o.a.createElement("span",{onClick:n.activateEditMode},n.props.task.title),", priority: ",e," ",o.a.createElement("button",{onClick:n.onDeleteTask},"X"))},n}return Object(u.a)(e,t),e}(o.a.Component),T=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).render=function(){var t=n.props.tasks.map((function(t){return o.a.createElement(f,{task:t,key:t.id,changeStatus:n.props.changeStatus,changeTitle:n.props.changeTitle,deleteTask:n.props.deleteTask})}));return o.a.createElement("div",{className:"todoList-tasks"},t)},n}return Object(u.a)(e,t),e}(o.a.Component),k=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={isHidden:!1},n.onAllFilterClick=function(){n.props.changeFilter("All")},n.onCompletedFilterClick=function(){n.props.changeFilter("Completed")},n.onActiveFilterClick=function(){n.props.changeFilter("Active")},n.onShowFiltersClick=function(){n.setState({isHidden:!0})},n.onHideFiltersClick=function(){n.setState({isHidden:!1})},n.render=function(){var t="All"===n.props.filterValue?"filter-active":"",e="Completed"===n.props.filterValue?"filter-active":"",a="Active"===n.props.filterValue?"filter-active":"";return o.a.createElement("div",{className:"todoList-footer"},!n.state.isHidden&&o.a.createElement("div",null,o.a.createElement("button",{onClick:n.onAllFilterClick,className:t},"All"),o.a.createElement("button",{onClick:n.onCompletedFilterClick,className:e},"Completed"),o.a.createElement("button",{onClick:n.onActiveFilterClick,className:a},"Active")),!n.state.isHidden&&o.a.createElement("span",{onClick:n.onShowFiltersClick},"hide"),n.state.isHidden&&o.a.createElement("span",{onClick:n.onHideFiltersClick},"show"))},n}return Object(u.a)(e,t),e}(o.a.Component),h=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={editMode:!1,title:n.props.title},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.deactivateEditMode=function(){n.setState({editMode:!1}),n.props.updateTitle(n.state.title)},n.activateEditMode=function(){n.setState({editMode:!0})},n.render=function(){return o.a.createElement(o.a.Fragment,null,n.state.editMode?o.a.createElement("input",{value:n.state.title,autoFocus:!0,onBlur:n.deactivateEditMode,onChange:n.onTitleChanged}):o.a.createElement("h3",{className:"todoList-header__title",onClick:n.activateEditMode},n.props.title))},n}return Object(u.a)(e,t),e}(o.a.Component),m=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={error:!1,title:""},n.onAddItemClick=function(){var t=n.state.title;n.setState({title:""}),""===t?n.setState({error:!0}):(n.setState({error:!1}),n.props.addItem(t))},n.onTitleChanged=function(t){n.setState({error:!1,title:t.currentTarget.value})},n.onKeyPress=function(t){"Enter"===t.key&&n.onAddItemClick()},n.render=function(){var t=n.state.error?"error":"";return o.a.createElement("div",{className:"todoList-newTaskForm"},o.a.createElement("input",{className:t,type:"text",placeholder:"New item name",onChange:n.onTitleChanged,onKeyPress:n.onKeyPress,value:n.state.title}),o.a.createElement("button",{onClick:n.onAddItemClick},"Add"))},n}return Object(u.a)(e,t),e}(o.a.Component),S=n(8),E=n(15),C=n(26),b=n.n(C).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"3eb442be-c6ec-48c8-96fc-69807a29300c"}}),O=function(){return b.get("")},v=function(t){return b.post("",{title:t})},g=function(t){return b.delete("/".concat(t))},j=function(t,e){return b.put("/".concat(e),{title:t})},L=function(t){return b.get("/".concat(t,"/tasks"))},y=function(t,e){return b.post("/".concat(e,"/tasks"),{title:t})},A=function(t,e,n){return b.put("/".concat(e,"/tasks/").concat(t),n)},I=function(t,e){return b.delete("/".concat(e,"/tasks/").concat(t))},_="TodoList/Reducer/ADD_TASK_SUCCESS",D="TodoList/Reducer/SET_TASKS_SUCCESS",w={todolists:[]},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case D:return Object(p.a)({},t,{todolists:t.todolists.map((function(t){return t.id!==e.todolistId?t:Object(p.a)({},t,{tasks:e.tasks})}))});case"TodoList/Reducer/SET_TODOLISTS_SUCCESS":return Object(p.a)({},t,{todolists:e.todolists.map((function(t){return Object(p.a)({},t,{tasks:[]})}))});case"TodoList/Reducer/ADD_TODOLIST_SUCCESS":return Object(p.a)({},t,{todolists:[e.newTodolist].concat(Object(E.a)(t.todolists))});case"TodoList/Reducer/DELETE_TODOLIST_SUCCESS":return Object(p.a)({},t,{todolists:t.todolists.filter((function(t){return t.id!==e.todolistId}))});case"TodoList/Reducer/UPDATE_TODOLIST_TITLE_SUCCESS":return Object(p.a)({},t,{todolists:t.todolists.map((function(t){return t.id!==e.todolistId?t:Object(p.a)({},t,{title:e.title})}))});case"TodoList/Reducer/DELETE_TASK_SUCCESS":return Object(p.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(p.a)({},t,{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))}):t}))});case _:return Object(p.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(p.a)({},t,{tasks:[e.newTask].concat(Object(E.a)(t.tasks))}):t}))});case"TodoList/Reducer/UPDATE_TASK_SUCCESS":return Object(p.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(p.a)({},t,{tasks:t.tasks.map((function(t){return t.id!==e.taskId?t:Object(p.a)({},t,{},e.obj)}))}):t}))});default:return t}},U=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={filterValue:"All"},n.restoreState=function(){n.props.getTasks(n.props.id)},n.addTask=function(t){n.props.addTask(t,n.props.id)},n.changeFilter=function(t){n.setState({filterValue:t})},n.changeTask=function(t,e){var a=n.props.tasks.find((function(e){return e.id===t})),o=Object(p.a)({},a,{},e);n.props.changeTask(t,n.props.id,o,e)},n.changeStatus=function(t,e){n.changeTask(t,{status:e})},n.changeTitle=function(t,e){n.changeTask(t,{title:e})},n.deleteTodolist=function(){n.props.deleteTodo(n.props.id)},n.deleteTask=function(t){n.props.deleteTask(t,n.props.id)},n.updateTitle=function(t){n.props.updateTitle(t,n.props.id)},n.render=function(){var t=n.props.tasks,e=void 0===t?[]:t;return o.a.createElement("div",{className:"todoList"},o.a.createElement("div",{className:"todoList-header"},o.a.createElement("div",{className:"wrapper"},o.a.createElement(h,{title:n.props.title,updateTitle:n.updateTitle}),o.a.createElement("button",{onClick:n.deleteTodolist}," X ")),o.a.createElement(m,{addItem:n.addTask})),o.a.createElement(T,{changeStatus:n.changeStatus,changeTitle:n.changeTitle,deleteTask:n.deleteTask,tasks:e.filter((function(t){return"All"===n.state.filterValue||("Active"===n.state.filterValue?0===t.status:"Completed"===n.state.filterValue?2===t.status:void 0)}))}),o.a.createElement(k,{changeFilter:n.changeFilter,filterValue:n.state.filterValue}))},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),M=Object(S.b)(null,{getTasks:function(t){return function(e){L(t).then((function(n){var a=n.data.items;e({type:D,tasks:a,todolistId:t})}))}},addTask:function(t,e){return function(n){y(t,e).then((function(t){var a=t.data.data.item;n(function(t,e){return{type:_,newTask:t,todolistId:e}}(a,e))}))}},changeTask:function(t,e,n,a){return function(o){A(t,e,n).then((function(n){o(function(t,e,n){return{type:"TodoList/Reducer/UPDATE_TASK_SUCCESS",taskId:t,obj:e,todolistId:n}}(t,a,e))}))}},deleteTodo:function(t){return function(e){g(t).then((function(n){e({type:"TodoList/Reducer/DELETE_TODOLIST_SUCCESS",todolistId:t})}))}},deleteTask:function(t,e){return function(n){I(t,e).then((function(a){n(function(t,e){return{type:"TodoList/Reducer/DELETE_TASK_SUCCESS",todolistId:t,taskId:e}}(e,t))}))}},updateTitle:function(t,e){return function(n){j(t,e).then((function(a){n(function(t,e){return{type:"TodoList/Reducer/UPDATE_TODOLIST_TITLE_SUCCESS",todolistId:t,title:e}}(e,t))}))}}})(U),R=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).restoreState=function(){n.props.getTodolists()},n.addTodoList=function(t){n.props.addTodolist(t)},n.render=function(){var t=n.props.todolists.map((function(t){return o.a.createElement(M,{key:t.id,id:t.id,title:t.title,tasks:t.tasks})}));return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(m,{addItem:n.addTodoList})),o.a.createElement("div",{className:"App"},t))},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),N=Object(S.b)((function(t){return{todolists:t.todolist.todolists}}),{getTodolists:function(){return function(t){O().then((function(e){t({type:"TodoList/Reducer/SET_TODOLISTS_SUCCESS",todolists:e.data})}))}},addTodolist:function(t){return function(e){v(t).then((function(t){var n=t.data.data.item;e({type:"TodoList/Reducer/ADD_TODOLIST_SUCCESS",newTodolist:n})}))}}})(R),K=n(9),V=n(27),H=Object(K.c)({todolist:F}),P=Object(K.d)(H,Object(K.a)(V.a));r.a.render(o.a.createElement(S.a,{store:P},o.a.createElement(N,null)),document.getElementById("root"))},7:function(t,e,n){}},[[28,1,2]]]);
//# sourceMappingURL=main.785674cb.chunk.js.map